<!DOCTYPE html>
<html>
<head>
	<title>Rote</title>
	
	<meta charset="UTF-8">
	<meta name="description" content="Simple public note database.">
	<meta name="keywords" content="Notes, Database">
	<meta name="author" content="Cygnut">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="img/content/moteIcon-64x64-Transparent.png" />
	
	<script src="vendor/jquery-3.1.1.min.js"></script>
	<script src="vendor/angular.min-1.5.7.js"></script>
	<script src="vendor/underscore-1.8.3.js"></script>
	
	<link rel="stylesheet" href="vendor/w3.css">
	<link rel="stylesheet" href="css/common.css">
	<link rel="stylesheet" href="css/accordion.css">
	
	<!-- Angular model -->
	<script src="js/RoteClient.js"></script>
	<script src="js/app.js"></script>
	<script src="js/controllers/category.js"></script>
	<script src="js/controllers/note.js"></script>
	
<script>

function accordionClick(b) {
	
	// Make it clear which accordion element we clicked on.
	$(b).toggleClass("active");
	// Drop the accordion content by changing the class.
	$(b).next().toggleClass("show");
}

</script>
<style>
header img {
	margin: 10px;
	width: 50px;
	height: 50px;
	float: left;
}

article {
	padding: 5px 5px 5px 5px;
	margin: 95px 10px 45px 10px;
	
	border-width: 15px 15px 15px 15px;
	border-style: solid;
	border-color: white;
}

section h1,h2,h3 {
	text-align: center;
}

table, form input, p, h3, h4, h5 {
	margin-left: 10px;
}

/* Accordion styling */
button.accordion {
	background-color: #eee;
	color: #444;
	cursor: pointer;
	padding: 18px;
	width: 100%;
	text-align: left;
	border: none;
	outline: none;
}

div.accordion {
	border: #444 solid thin;
}

button.accordion:after {
	content: '+';
	float: right;
	margin-left: 5px;
}

button.accordion.active:after {
    content: "-"; 
}

button.accordion.active, button.accordion:hover {
	background-color: #ddd;
}

/* Base accordion panel style which can be overridden by show. */
div.panel {
	padding: 0 18px;
	background-color: white;
	display: none;
}

/* Accordion panel style override when shown */
div.panel.show {
	display: block;
}

.topnote {
	font-size: x-small;
}

</style>
</head>
<body ng-app="rote">

<header class="header w3-top w3-container w3-blue">
	<img src="img/content/roteIcon-100x100-Transparent.png" />
	<h1>Rote</h1>
</header>

<article>
	
	<section class="category" ng-controller="category">
		<h2>Categories</h2>
		<div class="accordion" ng-repeat="c in categories">
			<button class="accordion" onclick="accordionClick(this)">{{ c.name }}</button>
			<div class="panel">
				<p class='topnote'>Created {{ c.when_created }}, updated {{ c.when_updated }}.</p>
				<p>{{ c.description }}</p>
				<button class="w3-btn" ng-click="deleteCategory(c);">Delete</button>
			</div>
		</div>
	</section>
	
	<hr/>
	
	<section class="note" ng-controller="note">
		<h2>Notes</h2>
		<div class="accordion" ng-repeat="n in notes">
			<button class="accordion" onclick="accordionClick(this)">{{ n.title }}</button>
			<div class="panel">
				<p class='topnote'>Created {{ n.when_created }}, updated {{ n.when_updated }}.</p>
				<p>{{ n.content }}</p>
				<button class="w3-btn" ng-click="deleteNote(n);">Delete</button>
			</div>
		</div>
	</section>
	
</article>

</body>
</html>