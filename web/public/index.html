<!DOCTYPE html>
<html>
<head>
	<title>Rote</title>
	
	<meta charset="UTF-8">
	<meta name="description" content="Simple public note database.">
	<meta name="keywords" content="Notes, Database">
	<meta name="author" content="Cygnut">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="img/content/moteIcon-64x64-Transparent.png" />
	
	<script src="vendor/jquery-3.1.1.min.js"></script>
	<script src="vendor/underscore-1.8.3.js"></script>
	
	<!-- Angular & linked Bootstrap libs -->
	<script src="vendor/angular.min-1.5.7.js"></script>
	<script src="vendor/ui-bootstrap-tpls-2.4.0.js"></script>
	<script src="vendor/bootstrap-3.3.7/js/bootstrap.js"/></script>
	
	<!-- Angular model -->
	<script src="js/RoteClient.js"></script>
	<script src="js/app.js"></script>
	<script src="js/services/modalService.js"></script>
	<script src="js/services/categoryService.js"></script>
	<script src="js/controllers/category.js"></script>
	<script src="js/controllers/note.js"></script>
	
	<link rel="stylesheet" href="vendor/bootstrap-3.3.7/css/bootstrap.css"/>
	<link rel="stylesheet" href="css/common.css"/>
	<link rel="stylesheet" href="css/accordion.css"/>
	
<script>

function accordionClick(b) {
	
	// Make it clear which accordion element we clicked on.
	$(b).toggleClass("active");
	// Drop the accordion content by changing the class.
	$(b).next().toggleClass("show");
}

</script>
<style>

header img {
	float: left;
}

</style>
</head>
<body ng-app="rote">

<header class="container">
	<div class="jumbotron">
		<img src="img/content/roteIcon-100x100-Transparent.png" />
		<h1>Rote</h1>
	</div>
</header>

<article class="container">
	
	<section class="note" ng-controller="note">
		<div class="accordion-container clearfix">
			<div class="accordion-header clearfix">
				<button class="btn btn-primary" ng-click="addNote();">+</button>
				<h2>Notes</h2>
			</div>
			<div class="accordion" ng-repeat="n in notes">
				<button class="accordion" onclick="accordionClick(this)">{{ n.category_name }} | {{ n.title }}</button>
				<div class="accordion-panel clearfix">
					<p class='topnote'>Created {{ n.when_created }}, updated {{ n.when_updated }}.</p>
					<p>{{ n.content }}</p>
					<button class="btn btn-primary" ng-click="editNote(n);">Edit</button>
					<button class="btn btn-primary" ng-click="deleteNote(n);">Delete</button>
				</div>
			</div>
		</div>
	</section>
	
	<hr/>
	
	<section class="category" ng-controller="category">
		<div class="clearfix">
			<div class="accordion-header clearfix">
				<button class="btn btn-primary" ng-click="addCategory();">+</button>
				<h2>Categories</h2>
			</div>
			<div class="accordion" ng-repeat="c in categories">
				<button class="accordion" onclick="accordionClick(this)">{{ c.name }}</button>
				<div class="accordion-panel clearfix">
					<p class='topnote'>Created {{ c.when_created }}, updated {{ c.when_updated }}.</p>
					<p>{{ c.description }}</p>
					<button class="btn btn-primary" ng-click="editCategory(c);">Edit</button>
					<button class="btn btn-primary" ng-click="deleteCategory(c);">Delete</button>
				</div>
			</div>
		</div>
	</section>
	
</article>

</body>
</html>